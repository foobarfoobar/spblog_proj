# encoding: utf-8

Gegebensei(/^ein Flug "([^"]*)"$/) do |nr|
  Flight.create(nr: nr)
end

Wenn(/^ich den Flug "([^"]*)" auswaehle$/) do |flight_nr|
  visit flights_path
  click_link flight_nr # DSL Capybara
  page.should have_content("Booking of #{flight_nr}")
end

Wenn(/^ich meine Personalien eingebe$/) do
  fill_in "Name", with: "Foo Bar"
  fill_in "Email", with: "foo@bar.net" #fill_in: Capybara-Methode
end

Wenn(/^ich bezahle$/) do
  click_button "pay"
end

Dann(/^soll ich eine Buchungsbestaetigung f√ºr den Flug "([^"]*)" erhalten$/) do |nr|
  # page.should have_content("Your booking confirmation")
  # flight = Flight.find_by_nr(nr)
  # flight.should have(1).bookings
  # booking = flight.bookings.first
  # booking.name.should be == "Foo Bar"
  # booking.email.should be == "foo@bar.net"
end